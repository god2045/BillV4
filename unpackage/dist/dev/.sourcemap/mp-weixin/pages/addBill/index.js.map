{"version":3,"file":"index.js","sources":["pages/addBill/index.vue","../../../../../HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkQmlsbC9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"addpage\">\r\n    <form @submit=\"formSubmit\" @reset=\"formReset\">\r\n      <view class=\"section\">\r\n        <view class=\"title\">类型</view>\r\n        <picker @columnchange=\"typeCChange\" @change=\"typeChange\" :value=\"typeIndex\" :range=\"type\" mode=\"multiSelector\"\r\n          class=\"input\" name='billType'>\r\n          <view class=\"picker\">账单类型：{{showType}}</view>\r\n        </picker>\r\n      </view>\r\n      <view class=\"section\">\r\n        <view class=\"title\">金额</view>\r\n        <input type=\"number\" class=\"input\" maxlength=\"300\" placeholder=\"请输入金额\" name='money' />\r\n      </view>\r\n      <view class=\"section\">\r\n        <view class=\"title\">账单时间</view>\r\n        <picker @change=\"dateChange\" fields=\"day\" :value=\"date\" mode=\"date\" class=\"input\" name='billDate'>\r\n          <view class=\"picker\">账单时间：{{date}}</view>\r\n        </picker>\r\n      </view>\r\n      <view class=\"section\">\r\n        <view class=\"title\">备注</view>\r\n        <input type=\"text\" class=\"input\" maxlength=\"300\" placeholder=\"请输入备注\" name='content' />\r\n      </view>\r\n      <view class=\"area\">\r\n        <button style=\"margin: 30rpx 0\" type=\"primary\" form-type=\"submit\">提交</button>\r\n        <button style=\"margin: 30rpx 0\" type=\"warn\" form-type=\"reset\">重置</button>\r\n      </view>\r\n    </form>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        date: \"\",\r\n        type: [\r\n          [\"支出\", \"收入\"],\r\n          [\"餐饮\", \"其他支出\"],\r\n        ],\r\n        typeIndex: [0, 0],\r\n        showType: \"支出\" + \"-\" + \"餐饮\"\r\n      }\r\n    },\r\n\r\n    onLoad() {\r\n\r\n    },\r\n    methods: {\r\n\r\n      formSubmit: function(e) {\r\n        var formdata = e.detail.value\r\n        var typeLX = this.type[0][formdata.billType[0]]\r\n        var typeLB = this.type[1][formdata.billType[1]]\r\n        console.log(typeLB, typeLX)\r\n        console.log(formdata)\r\n        uniCloud.callFunction({\r\n          name: \"fun\",\r\n          data: {\r\n            api: \"addBill\",\r\n            typeLX: typeLX,\r\n            typeLB: typeLB,\r\n            money: formdata.money,\r\n            date: formdata.billDate,\r\n            content: formdata.content,\r\n          }\r\n        }).then(res => {\r\n          console.log(res)\r\n        })\r\n      },\r\n\r\n      formReset: function(e) {\r\n        this.showType = ''\r\n        this.date = ''\r\n      },\r\n\r\n      dateChange: function(e) {\r\n        this.date = e.detail.value\r\n      },\r\n\r\n      typeCChange: function(e) {\r\n        var data = {\r\n          type: this.type,\r\n          typeIndex: this.typeIndex,\r\n        };\r\n        data.typeIndex[e.detail.column] = e.detail.value;\r\n        switch (e.detail.column) {\r\n          case 0:\r\n            switch (data.typeIndex[0]) {\r\n              case 0:\r\n                data.type[1] = [\"餐饮\", \"其他支出\"];\r\n                console.log(data.type);\r\n                break;\r\n              case 1:\r\n                data.type[1] = [\"工资\", \"投资\", \"其他收入\"];\r\n                console.log(data.type);\r\n                break;\r\n            }\r\n        }\r\n        console.log(data.type);\r\n      },\r\n\r\n      typeChange: function(e) {\r\n        this.showType = this.type[0][this.typeIndex[0]] + '-' + this.type[1][this.typeIndex[1]];\r\n      },\r\n\r\n      publish() {\r\n        uniCloud.callFunction({\r\n          name: \"fun\",\r\n          data: {\r\n            opi: \"publish\",\r\n            content: this.content,\r\n          }\r\n        }).then(res => {\r\n          console.log(res)\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .addpage {\r\n    margin: 40rpx;\r\n  }\r\n\r\n  .section {\r\n    margin: 40rpx 0 80rpx;\r\n  }\r\n\r\n  .title {\r\n    font-size: 36rpx;\r\n  }\r\n\r\n  .input {\r\n    margin: 30rpx 0;\r\n    border-bottom: 1px solid #666;\r\n    padding: 20rpx 0;\r\n    width: 100%;\r\n  }\r\n\r\n  .mg {\r\n    margin: 30rpx 0;\r\n  }\r\n\r\n  .area {\r\n    margin: 100rpx auto;\r\n    display: flex;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n</style>","import MiniProgramPage from 'C:/Users/10459/Desktop/BillV4/BillV4/pages/addBill/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":";;AAiCE,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,QACJ,CAAC,MAAM,IAAI;AAAA,QACX,CAAC,MAAM,MAAM;AAAA,MACd;AAAA,MACD,WAAW,CAAC,GAAG,CAAC;AAAA,MAChB,UAAU;AAAA,IACZ;AAAA,EACD;AAAA,EAED,SAAS;AAAA,EAER;AAAA,EACD,SAAS;AAAA,IAEP,YAAY,SAAS,GAAG;AACtB,UAAI,WAAW,EAAE,OAAO;AACxB,UAAI,SAAS,KAAK,KAAK,CAAC,EAAE,SAAS,SAAS,CAAC,CAAC;AAC9C,UAAI,SAAS,KAAK,KAAK,CAAC,EAAE,SAAS,SAAS,CAAC,CAAC;AAC9CA,oBAAAA,MAAY,MAAA,OAAA,iCAAA,QAAQ,MAAM;AAC1BA,oBAAAA,MAAA,MAAA,OAAA,iCAAY,QAAQ;AACpBC,oBAAAA,GAAS,aAAa;AAAA,QACpB,MAAM;AAAA,QACN,MAAM;AAAA,UACJ,KAAK;AAAA,UACL;AAAA,UACA;AAAA,UACA,OAAO,SAAS;AAAA,UAChB,MAAM,SAAS;AAAA,UACf,SAAS,SAAS;AAAA,QACpB;AAAA,OACD,EAAE,KAAK,SAAO;AACbD,sBAAAA,MAAY,MAAA,OAAA,iCAAA,GAAG;AAAA,OAChB;AAAA,IACF;AAAA,IAED,WAAW,SAAS,GAAG;AACrB,WAAK,WAAW;AAChB,WAAK,OAAO;AAAA,IACb;AAAA,IAED,YAAY,SAAS,GAAG;AACtB,WAAK,OAAO,EAAE,OAAO;AAAA,IACtB;AAAA,IAED,aAAa,SAAS,GAAG;AACvB,UAAI,OAAO;AAAA,QACT,MAAM,KAAK;AAAA,QACX,WAAW,KAAK;AAAA;AAElB,WAAK,UAAU,EAAE,OAAO,MAAM,IAAI,EAAE,OAAO;AAC3C,cAAQ,EAAE,OAAO,QAAM;AAAA,QACrB,KAAK;AACH,kBAAQ,KAAK,UAAU,CAAC,GAAC;AAAA,YACvB,KAAK;AACH,mBAAK,KAAK,CAAC,IAAI,CAAC,MAAM,MAAM;AAC5BA,4BAAY,MAAA,MAAA,OAAA,iCAAA,KAAK,IAAI;AACrB;AAAA,YACF,KAAK;AACH,mBAAK,KAAK,CAAC,IAAI,CAAC,MAAM,MAAM,MAAM;AAClCA,4BAAY,MAAA,MAAA,OAAA,iCAAA,KAAK,IAAI;AACrB;AAAA,UACJ;AAAA,MACJ;AACAA,oBAAY,MAAA,MAAA,OAAA,kCAAA,KAAK,IAAI;AAAA,IACtB;AAAA,IAED,YAAY,SAAS,GAAG;AACtB,WAAK,WAAW,KAAK,KAAK,CAAC,EAAE,KAAK,UAAU,CAAC,CAAC,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,KAAK,UAAU,CAAC,CAAC;AAAA,IACvF;AAAA,IAED,UAAU;AACRC,oBAAAA,GAAS,aAAa;AAAA,QACpB,MAAM;AAAA,QACN,MAAM;AAAA,UACJ,KAAK;AAAA,UACL,SAAS,KAAK;AAAA,QAChB;AAAA,OACD,EAAE,KAAK,SAAO;AACbD,sBAAAA,MAAY,MAAA,OAAA,kCAAA,GAAG;AAAA,OAChB;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;ACtHF,GAAG,WAAW,eAAe;"}